function cov_90xtpezmz(){var path="/home/abhigna.t/EventEasee/middlewares/tokenVerification.js";var hash="87211409ca858f8c1a27be91f3bc809f35562685";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/abhigna.t/EventEasee/middlewares/tokenVerification.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:15},end:{line:2,column:31}},"2":{start:{line:4,column:12},end:{line:4,column:35}},"3":{start:{line:5,column:21},end:{line:5,column:45}},"4":{start:{line:6,column:23},end:{line:6,column:38}},"5":{start:{line:8,column:21},end:{line:8,column:29}},"6":{start:{line:9,column:18},end:{line:9,column:32}},"7":{start:{line:11,column:0},end:{line:11,column:27}},"8":{start:{line:13,column:20},end:{line:28,column:3}},"9":{start:{line:14,column:18},end:{line:14,column:33}},"10":{start:{line:16,column:4},end:{line:18,column:5}},"11":{start:{line:17,column:6},end:{line:17,column:63}},"12":{start:{line:20,column:4},end:{line:27,column:7}},"13":{start:{line:21,column:6},end:{line:26,column:7}},"14":{start:{line:22,column:8},end:{line:22,column:65}},"15":{start:{line:24,column:8},end:{line:24,column:32}},"16":{start:{line:25,column:8},end:{line:25,column:15}},"17":{start:{line:30,column:2},end:{line:30,column:31}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:13,column:20},end:{line:13,column:21}},loc:{start:{line:13,column:40},end:{line:28,column:3}},line:13},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:33},end:{line:20,column:34}},loc:{start:{line:20,column:56},end:{line:27,column:5}},line:20}},branchMap:{"0":{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:16,column:4},end:{line:18,column:5}}],line:16},"1":{loc:{start:{line:21,column:6},end:{line:26,column:7}},type:"if",locations:[{start:{line:21,column:6},end:{line:26,column:7}},{start:{line:21,column:6},end:{line:26,column:7}}],line:21}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"87211409ca858f8c1a27be91f3bc809f35562685"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_90xtpezmz=function(){return actualCoverage;};}return actualCoverage;}cov_90xtpezmz();const express=(cov_90xtpezmz().s[0]++,require('express'));const router=(cov_90xtpezmz().s[1]++,express.Router());const jwt=(cov_90xtpezmz().s[2]++,require('jsonwebtoken'));const cookieParser=(cov_90xtpezmz().s[3]++,require('cookie-parser'));const{v4:uuidv4}=(cov_90xtpezmz().s[4]++,require('uuid'));const cookieMaxAge=(cov_90xtpezmz().s[5]++,30000000);const jwtSecret=(cov_90xtpezmz().s[6]++,"keyboard cat");cov_90xtpezmz().s[7]++;router.use(cookieParser());cov_90xtpezmz().s[8]++;const verifyToken=(req,res,next)=>{cov_90xtpezmz().f[0]++;const token=(cov_90xtpezmz().s[9]++,req.cookies.jwt);cov_90xtpezmz().s[10]++;if(!token){cov_90xtpezmz().b[0][0]++;cov_90xtpezmz().s[11]++;return res.status(401).json({message:'Unauthorized'});}else{cov_90xtpezmz().b[0][1]++;}cov_90xtpezmz().s[12]++;jwt.verify(token,jwtSecret,(err,decodedToken)=>{cov_90xtpezmz().f[1]++;cov_90xtpezmz().s[13]++;if(err){cov_90xtpezmz().b[1][0]++;cov_90xtpezmz().s[14]++;return res.status(401).json({message:'Unauthorized'});}else{cov_90xtpezmz().b[1][1]++;cov_90xtpezmz().s[15]++;req.user=decodedToken;cov_90xtpezmz().s[16]++;next();}});};cov_90xtpezmz().s[17]++;module.exports=verifyToken;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfOTB4dHBlem16IiwiYWN0dWFsQ292ZXJhZ2UiLCJleHByZXNzIiwicyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJqd3QiLCJjb29raWVQYXJzZXIiLCJ2NCIsInV1aWR2NCIsImNvb2tpZU1heEFnZSIsImp3dFNlY3JldCIsInVzZSIsInZlcmlmeVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsImYiLCJ0b2tlbiIsImNvb2tpZXMiLCJiIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ2ZXJpZnkiLCJlcnIiLCJkZWNvZGVkVG9rZW4iLCJ1c2VyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInRva2VuVmVyaWZpY2F0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IGNvb2tpZVBhcnNlciA9IHJlcXVpcmUoJ2Nvb2tpZS1wYXJzZXInKTtcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZSgndXVpZCcpO1xuXG5jb25zdCBjb29raWVNYXhBZ2UgPSAzMDAwMDAwMDsgXG5jb25zdCBqd3RTZWNyZXQgPSBcImtleWJvYXJkIGNhdFwiOyBcblxucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5cbmNvbnN0IHZlcmlmeVRva2VuID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gIFxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgIH1cbiAgXG4gICAgand0LnZlcmlmeSh0b2tlbiwgand0U2VjcmV0LCAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXEudXNlciA9IGRlY29kZWRUb2tlbjtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzID0gdmVyaWZ5VG9rZW47Il0sIm1hcHBpbmdzIjoiazNFQWVZO0FBQUFBLGFBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsYUFBQSxHQWZaLEtBQU0sQ0FBQUUsT0FBTyxFQUFBRixhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUNsQyxLQUFNLENBQUFDLE1BQU0sRUFBQUwsYUFBQSxHQUFBRyxDQUFBLE1BQUdELE9BQU8sQ0FBQ0ksTUFBTSxDQUFDLENBQUMsRUFFL0IsS0FBTSxDQUFBQyxHQUFHLEVBQUFQLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQ25DLEtBQU0sQ0FBQUksWUFBWSxFQUFBUixhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLGVBQWUsQ0FBQyxFQUM3QyxLQUFNLENBQUVLLEVBQUUsQ0FBRUMsTUFBTyxDQUFDLEVBQUFWLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBRXRDLEtBQU0sQ0FBQU8sWUFBWSxFQUFBWCxhQUFBLEdBQUFHLENBQUEsTUFBRyxRQUFRLEVBQzdCLEtBQU0sQ0FBQVMsU0FBUyxFQUFBWixhQUFBLEdBQUFHLENBQUEsTUFBRyxjQUFjLEVBQUNILGFBQUEsR0FBQUcsQ0FBQSxNQUVqQ0UsTUFBTSxDQUFDUSxHQUFHLENBQUNMLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQ1IsYUFBQSxHQUFBRyxDQUFBLE1BRTNCLEtBQU0sQ0FBQVcsV0FBVyxDQUFHQSxDQUFDQyxHQUFHLENBQUVDLEdBQUcsQ0FBRUMsSUFBSSxHQUFLLENBQUFqQixhQUFBLEdBQUFrQixDQUFBLE1BQ3BDLEtBQU0sQ0FBQUMsS0FBSyxFQUFBbkIsYUFBQSxHQUFBRyxDQUFBLE1BQUdZLEdBQUcsQ0FBQ0ssT0FBTyxDQUFDYixHQUFHLEVBQUNQLGFBQUEsR0FBQUcsQ0FBQSxPQUU5QixHQUFJLENBQUNnQixLQUFLLENBQUUsQ0FBQW5CLGFBQUEsR0FBQXFCLENBQUEsU0FBQXJCLGFBQUEsR0FBQUcsQ0FBQSxPQUNWLE1BQU8sQ0FBQWEsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFFQyxPQUFPLENBQUUsY0FBZSxDQUFDLENBQUMsQ0FDMUQsQ0FBQyxLQUFBeEIsYUFBQSxHQUFBcUIsQ0FBQSxVQUFBckIsYUFBQSxHQUFBRyxDQUFBLE9BRURJLEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQ04sS0FBSyxDQUFFUCxTQUFTLENBQUUsQ0FBQ2MsR0FBRyxDQUFFQyxZQUFZLEdBQUssQ0FBQTNCLGFBQUEsR0FBQWtCLENBQUEsTUFBQWxCLGFBQUEsR0FBQUcsQ0FBQSxPQUNsRCxHQUFJdUIsR0FBRyxDQUFFLENBQUExQixhQUFBLEdBQUFxQixDQUFBLFNBQUFyQixhQUFBLEdBQUFHLENBQUEsT0FDUCxNQUFPLENBQUFhLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUMsT0FBTyxDQUFFLGNBQWUsQ0FBQyxDQUFDLENBQzFELENBQUMsSUFBTSxDQUFBeEIsYUFBQSxHQUFBcUIsQ0FBQSxTQUFBckIsYUFBQSxHQUFBRyxDQUFBLE9BQ0xZLEdBQUcsQ0FBQ2EsSUFBSSxDQUFHRCxZQUFZLENBQUMzQixhQUFBLEdBQUFHLENBQUEsT0FDeEJjLElBQUksQ0FBQyxDQUFDLENBQ1IsQ0FDRixDQUFDLENBQUMsQ0FDSixDQUFDLENBQUNqQixhQUFBLEdBQUFHLENBQUEsT0FFRjBCLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHaEIsV0FBVyJ9